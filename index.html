<!DOCTYPE html>
<html lang="en">
<head>
	<title>LaGrange Interpolating Polynomial</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" type="text/css" href="style.css">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

	<script type="text/javascript" src="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraphcore.js"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

</head>
	<body>
	<h1>LaGrange Interpolating Polynomial</h1>
	<div id="box" class="jxgbox" style="width:500px; height:500px;"></div>
	<form>
		<div class="form-group">
			<label for="points_list">Points</label>
			<input type="text" class="form-control" id="points_list" aria-describedby="point-form" placeholder="Input coordinates in (x,y) form">
			<small id="point-form" class="form-text text-muted">Seperate Coordinates using comma. Not space sensitive. Ex. (3,2.52), (-5,0), (2.9,2), (-4,4). Parenthesis and Brackets are fine. Ex. [3,2.52], {-5,0}, (2.9,2), -4,4. </small>
			<button class="btn btn-primary" type="button" onclick="graphPoints()"> Plot Points</button>
		</div>
	</form>
	<p>$$f(x) = (17.0/105.0)x^4 + (-7.0/6.0)x^3 + (-19.0/42.0)x^2 + (10.0/1.0)x^1 + (-194.0/35.0)x^0$$</p>

	<script type="text/javascript">
		//first create the board that we want to graph on
		var board = JXG.JSXGraph.initBoard('box', {boundingbox: [-10, 10, 10, -10], axis:true});
		var bounds = [-10,10,10,-10];
		var scale = 1.5;

		String.prototype.replaceAll = function(str1, str2, ignore) {
    	return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignore?"gi":"g")),(typeof(str2)=="string")?str2.replace(/\$/g,"$$$$"):str2);
		}	//replace all instances of str1 with str2 from https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string

		function parity(int){
			if (int % 2 == 0){
				return true; //integer is even
			}else{
				return false; //integer is odd
			}
		}

		function graphPoints(){
			var points = []; //this is going to hold our points, but we must format the input string first.
			bounds = [-10,10,10,-10];
			var input = document.getElementById("points_list").value; //this is our user input
			
			input = input.replaceAll(" ", ""); //remove all spaces and brackets
			input = input.replaceAll("{", ""); //we only need commas to parse the input into our points array
			input = input.replaceAll("}", "");
			input = input.replaceAll("(", "");
			input = input.replaceAll(")", "");
			input = input.replaceAll("[", "");
			input = input.replaceAll("]", "");

			input = input.split(",");

			for (var i = 0; i < input.length; i++){
 				input[i] = Number(input[i]);
 			}

 			for (var i = 0; i < input.length; i += 2){
 				var x = input[i];
 				var y = input[i+1];
 				var xy = [x,y];
 				points.push(xy);

 				//automatically scale graph based on inputs
 				if(Math.abs(x) > bounds[2]){
 					bounds[0] = x * -scale;
 					bounds[2] = x * scale;
 				}else if (Math.abs(y) > Math.abs(bounds[1])){
 					bounds[1] = y * scale;
 					bounds[3] = y * -scale;
 				}
 			}

 			board = JXG.JSXGraph.initBoard('box', {boundingbox: bounds, axis:true});

 			for (var i = 0; i < points.length; i++){
 			board.create('point',points[i], {name:'', size:3, fixed: true});
 			}
		}

 		// ex.			[32,21],[15,52],[-25,-23]
	</script>
</body>
</html>